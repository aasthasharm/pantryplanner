<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carousel</title>
    <link rel="stylesheet" href="\..\static\css\recipes_style.css">
</head>
<body>

    <nav class="navbar">
        <a href="{{ url_for('index') }}" class="back-button">Back</a>
        
        <div class="dropdown">
            <button class="dropbtn">Health Limits</button>
            <div class="dropdown-content">
                <label><input type="checkbox" name="health-limits" value="Dairy Free"> Dairy Free</label>
                <label><input type="checkbox" name="health-limits" value="Egg Free"> Egg Free</label>
                <label><input type="checkbox" name="health-limits" value="Fish Free"> Fish Free</label>
                <label><input type="checkbox" name="health-limits" value="Gluten Free"> Gluten Free</label>
                <label><input type="checkbox" name="health-limits" value="Keto Friendly"> Keto Friendly</label>
                <label><input type="checkbox" name="health-limits" value="Kosher"> Kosher</label>
                <label><input type="checkbox" name="health-limits" value="Peanut Free"> Peanut Free</label>
                <label><input type="checkbox" name="health-limits" value="Pork Free"> Pork Free</label>
                <label><input type="checkbox" name="health-limits" value="Tree Nut Free"> Tree Nut Free</label>
                <label><input type="checkbox" name="health-limits" value="Vegan"> Vegan</label>
                <label><input type="checkbox" name="health-limits" value="Vegetarian"> Vegetarian</label>
            </div>
        </div>

        <div class="dropdown">
            <button class="dropbtn">Diets</button>
            <div class="dropdown-content">
                <label><input type="checkbox" name="diets" value="Balanced"> Balanced</label>
                <label><input type="checkbox" name="diets" value="High Fiber"> High Fiber</label>
                <label><input type="checkbox" name="diets" value="High Protein"> High Protein</label>
                <label><input type="checkbox" name="diets" value="Low Carb"> Low Carb</label>
                <label><input type="checkbox" name="diets" value="Low Fat"> Low Fat</label>
                <label><input type="checkbox" name="diets" value="Low Sodium"> Low Sodium</label>
            </div>
        </div>

        <button class="update-btn">Update</button>
    </nav>
    
    <div class="content-container">
        <div class="flex-parent jc-center">
            <button class="button--previous" type="button">➜</button>
        </div>
        <div class="container">
            <ul class="list">
                {% for recipe in recipes %}
                <li class="item"><div class="content">
                    <div class="flip-card">
                        <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <h1>{{ recipe['recipe_name'] }}</h1>
                        </div>
                        <div class="flip-card-back">
                            <p>Architect & Engineer</p>
                            <p>We love that guy</p>
                        </div>
                        </div>
                    </div>
                </div></li>
                {% endfor %}
            </ul>
        </div>
        <div class="flex-parent jc-center">
            <button class="button--next" type="button">➜</button>
        </div>

        <script>
            // Array of background images
            const backgroundImages = [
                "url('https://i.etsystatic.com/20341642/r/il/8be8cd/2572122727/il_1080xN.2572122727_2qhg.jpg')",
                "url('https://i.etsystatic.com/20341642/r/il/ff34bf/2572267501/il_570xN.2572267501_bc3o.jpg')",
                "url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQB78I9_xOXenkhp-dr-2mSsOSu1CauHuPGGQ&s')",
                "url('https://i.etsystatic.com/20341642/r/il/1066b7/2524627264/il_570xN.2524627264_8sts.jpg')",
                "url('https://i.etsystatic.com/11988330/r/il/71fcf6/2367988416/il_570xN.2367988416_hf6j.jpg')"
            ];
         
            var currentSlideIndex = 0; // Keep track of the current slide index
        
            // Function to handle click and slide transition
            function handleClick(direction) {
                const list = document.querySelector(".list");
                const item = document.querySelector(".item");
                const itemWidth = item ? item.offsetWidth : 0; // Ensure itemWidth is calculated
        
                // Update the current slide index
                if (direction === "previous") {
                    currentSlideIndex = Math.max(0, currentSlideIndex - 1);
                } else {
                    currentSlideIndex = Math.min(backgroundImages.length - 1, currentSlideIndex + 1);
                }
                console.log(currentSlideIndex);
        
                // Change the background image
                document.body.style.backgroundImage = backgroundImages[currentSlideIndex];
                document.body.classList.add("background-transition");

                console.log(backgroundImages[currentSlideIndex]);
        
                // Scroll to the new slide
                list.scrollTo({ left: itemWidth * currentSlideIndex, behavior: "smooth" });
            }
        
            // Event listeners for buttons
            document.querySelector(".button--previous").addEventListener("click", () => handleClick("previous"));
            document.querySelector(".button--next").addEventListener("click", () => handleClick("next"));
        
            // Set initial background image
            document.body.style.backgroundImage = backgroundImages[currentSlideIndex];
        </script>
        
        
    </div>
</body>
</html>
